/*! email-autocomplete-vanilla 0.1.3.3
 * MIT License
 * (c) 2023 Gakuto Matsumura (http://github.com/GakutoMatsumura)
 * Based on the email-autocomplete(0.1.3) library created by:
 * (c) 2014 Low Yong Zhen <yz@stargate.io>
*/ "use strict";!function(t,i){function e(t,i){if(!t){console.error("eac,const:C00");return}this._f=t,this._o=Object.assign({},{suggClass:"eac-sugg",domains:["gmail.com","icloud.com","outlook.com","yahoo.com","hotmail.com","aol.com","live.com","msn.com","protonmail.com","me.com","mac.com","googlemail.com","facebook.com","gmx.com","zoho.com"]},i),this._d=this._o.domains,this.init()}e.prototype={init:function(){try{Array.prototype.indexOf||this.doIndexOf(),this._flo=null;var t=this._f;let e=getComputedStyle(t||{});if(!Object.keys(e).length||!t.parentNode){console.error("eac,init:Object null");return}var s=i.createElement("div");s.className="eac-input-wrap",s.style&&(s.style.display=e.display,s.style.position="static"===e.position?"relative":e.position,s.style.fontSize=e.fontSize,s.style.width=e.width),t.parentNode.insertBefore(s,t),s.appendChild(t),this._cv=i.createElement("span");var n=this._cv;n.className="eac-cval";var o=n.style||{};o.visibility="hidden",o.position="absolute",o.display="inline-block",o.fontFamily=e.fontFamily,o.fontWeight=e.fontWeight,o.letterSpacing=e.letterSpacing,t.parentNode.insertBefore(n,t.nextSibling),this._so=i.createElement("span");var h=this._so;this._o&&(h.className=this._o.suggClass);var a=h.style||{};a.display="block",a.boxSizing="content-box",a.lineHeight=e.lineHeight,a.marginTop=parseFloat(e.marginTop)+parseFloat(e.paddingTop)+(parseFloat(t.offsetHeight)-parseFloat(t.clientHeight))/2+"px",a.marginLeft=e.marginLeft,a.marginBottom=a.marginTop,a.fontFamily=e.fontFamily,a.fontWeight=e.fontWeight,a.letterSpacing=e.letterSpacing,a.position="absolute",a.top="0",a.left="0",t.parentNode.insertBefore(this._so,t.nextSibling),t.addEventListener("keyup",this.displaySuggestion.bind(this)),t.addEventListener("blur",this.autocomplete.bind(this)),t.addEventListener("keydown",(function(t){(13===t.which||39===t.which||9===t.which)&&this.autocomplete()}).bind(this)),h.addEventListener("mousedown",this.autocomplete.bind(this)),h.addEventListener("touchstart",this.autocomplete.bind(this))}catch(l){console.error("eac,init:",l)}},suggest:function(t){if(!t||!this._d||!Array.isArray(this._d))return"";var i=t.split("@");if(!(i.length>1)||!(t=i.pop()).length)return"";var e=this._d.filter(function(i){return 0===i.indexOf(t)}).shift()||"";return e?e.replace(t,""):""},autocomplete:function(){return!!this._s&&!(this._s.length<1)&&!!this._v&&(this._f&&(this._f.value=this._v+this._s),this._so&&(this._so.textContent=""),this._cv&&(this._cv.textContent=""),!0)},displaySuggestion:function(t){if(this._v=this._f?this._f.value:"",this._s=this.suggest(this._v),this._s.length?t.preventDefault():this._so.textContent="",this._so&&(this._so.textContent=this._s),this._cv&&(this._cv.textContent=this._v),null===this._flo){let i=this._f&&getComputedStyle(this._f)||{};this._flo=parseFloat(i.paddingLeft)+parseFloat(i.borderLeftWidth)||0}var e=parseFloat(this._flo)+parseFloat(this._cv&&this._cv.getBoundingClientRect?this._cv.getBoundingClientRect().width:0);isNaN(e)||(this._so.style.left=e+"px")},doIndexOf:function(){Array.prototype.indexOf=function(t,i){if(void 0===this||this===null)throw TypeError('"this" is null or not defined');var e=this.length>>>0;for(Math.abs(i=+i||0)===1/0&&(i=0),i<0&&(i+=e)<0&&(i=0);i<e;++i)if(this[i]===t)return i;return -1}}},t.emailautocomplete=function(t,s){var n=i.querySelectorAll(t),o=[];if(n)for(var h=0;h<n.length;++h)n[h].dataset.eac||(o.push(new e(n[h],s)),n[h].dataset.eac=!0);return o}}(window,document);