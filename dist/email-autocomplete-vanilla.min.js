/*! email-autocomplete-vanilla 0.1.3.1
 * MIT License
 * (c) 2023 Gakuto Matsumura (http://github.com/GakutoMatsumura)
 * (c) 2014 Low Yong Zhen <yz@stargate.io>
*/ "use strict";!function(t,i){function e(t,i){if(!t){console.error("autoemail,const:C00");return}this._f=t,this._o=Object.assign({},{suggClass:"eac-sugg",domains:["yahoo.co.jp","gmail.com","ezweb.ne.jp","au.com","docomo.ne.jp","i.softbank.jp","softbank.ne.jp","excite.co.jp","googlemail.com","hotmail.co.jp","hotmail.com","icloud.com","live.jp","me.com","mineo.jp","nifty.com","outlook.com","outlook.jp","yahoo.ne.jp","ybb.ne.jp","ymobile.ne.jp"]},i),this._d=this._o.domains,this.init()}e.prototype={init:function(){try{Array.prototype.indexOf||this.doIndexOf(),this._flo=null;var t=this._f;let e=(t?getComputedStyle(t):{})||{};if(0===Object.keys(e).length){console.error("autoemail,init:C01");return}if(!t.parentNode){console.error("autoemail,init:C02");return}var o=i.createElement("div");o.className="eac-input-wrap",o.style&&(o.style.display=e.display,o.style.position="static"===e.position?"relative":e.position,o.style.fontSize=e.fontSize,o.style.width=e.width),t.parentNode.insertBefore(o,t),o.appendChild(t),this._cv=i.createElement("span");var n=this._cv;n.className="eac-cval";var s=n.style||{};s.visibility="hidden",s.position="absolute",s.display="inline-block",s.fontFamily=e.fontFamily,s.fontWeight=e.fontWeight,s.letterSpacing=e.letterSpacing,t.parentNode.insertBefore(n,t.nextSibling),this._so=i.createElement("span");var l=this._so;this._o&&(l.className=this._o.suggClass);var h=l.style||{};h.display="block",h.boxSizing="content-box",h.lineHeight=e.lineHeight,h.marginTop=parseFloat(e.paddingTop)+(parseFloat(t.offsetHeight)-parseFloat(t.clientHeight))/2+"px",h.marginBottom=h.marginTop,h.fontFamily=e.fontFamily,h.fontWeight=e.fontWeight,h.letterSpacing=e.letterSpacing,h.position="absolute",h.top="0",h.left="0",t.parentNode.insertBefore(this._so,t.nextSibling),t.addEventListener("keyup",this.displaySuggestion.bind(this)),t.addEventListener("blur",this.autocomplete.bind(this)),t.addEventListener("keydown",(function(t){(13===t.which||39===t.which||9===t.which)&&this.autocomplete()}).bind(this)),l.addEventListener("mousedown",this.autocomplete.bind(this)),l.addEventListener("touchstart",this.autocomplete.bind(this))}catch(a){console.error("autoemail,init:",a)}},suggest:function(t){if(!t||!this._d||!Array.isArray(this._d))return"";var i=t.split("@");if(!(i.length>1)||!(t=i.pop()).length)return"";var e=this._d.filter(function(i){return 0===i.indexOf(t)}).shift()||"";return e?e.replace(t,""):""},autocomplete:function(){return!!this._s&&!(this._s.length<1)&&!!this._v&&(this._f&&(this._f.value=this._v+this._s),this._so&&(this._so.textContent=""),this._cv&&(this._cv.textContent=""),!0)},displaySuggestion:function(t){if(this._v=this._f?this._f.value:"",this._s=this.suggest(this._v),this._s.length?t.preventDefault():this._so.textContent="",this._so&&(this._so.textContent=this._s),this._cv&&(this._cv.textContent=this._v),null===this._flo){let i=this._f&&getComputedStyle(this._f)||{};this._flo=parseFloat(i.paddingLeft)+parseFloat(i.borderLeftWidth)||0}var e=parseFloat(this._flo)+parseFloat(this._cv&&this._cv.getBoundingClientRect?this._cv.getBoundingClientRect().width:0);isNaN(e)||(this._so.style.left=e+"px")},doIndexOf:function(){Array.prototype.indexOf=function(t,i){if(void 0===this||this===null)throw TypeError('"this" is null or not defined');var e=this.length>>>0;for(Math.abs(i=+i||0)===1/0&&(i=0),i<0&&(i+=e)<0&&(i=0);i<e;++i)if(this[i]===t)return i;return -1}}},t.emailautocomplete=function(t,o){var n=i.querySelectorAll(t),s=[];if(n)for(var l=0;l<n.length;++l)n[l].set_emailautocomplete||(s.push(new e(n[l],o)),n[l].set_emailautocomplete=!0);return s}}(window,document);